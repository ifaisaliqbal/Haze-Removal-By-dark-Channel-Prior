function [boundary_mean] = MBGV(I,J)[rows cols] = size(I);gray_val=0;pix_count = 0;for r=1:rows    for c=1:cols        if(J(r,c)==1 && c==1) a=1;        elseif(J(r,c)==1 && J(r,c-1)==0 && c>3)            gray_val = gray_val + I(r,c-1)+I(r,c-2)+I(r,c-3);           % J1(r,c-1)=1; J1(r,c-2)=1; J1(r,c-3)=1;            pix_count = pix_count + 3;                    elseif(J(r,c)==1 && J(r,c-1)==0 && c==3)            gray_val = gray_val + I(r,c-1)+I(r,c-2);           %  J1(r,c-1)=1; J1(r,c-2)=1;             pix_count = pix_count + 2;                    elseif(J(r,c)==1 && J(r,c-1)==0 && c==2)            gray_val = gray_val + I(r,c-1);            % J1(r,c-1)=1;             pix_count = pix_count + 1;        end        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                        if(J(r,c)==1 && c==cols) a=1;        elseif(J(r,c)==1 && J(r,c+1)==0 && cols-c>3)            gray_val = gray_val + I(r,c+1)+I(r,c+2)+I(r,c+3);            % J1(r,c+1)=1; J1(r,c+2)=1; J1(r,c+3)=1;            pix_count = pix_count + 3;                    elseif(J(r,c)==1 && J(r,c+1)==0 && c==3)            gray_val = gray_val + I(r,c+1)+I(r,c+2);           % J1(r,c+1)=1; J1(r,c+2)=1;            pix_count = pix_count + 2;                    elseif(J(r,c)==1 && J(r,c+1)==0 && c==2)            gray_val = gray_val + I(r,c+1);           % J1(r,c+1)=1;             pix_count = pix_count + 1;        end                        endendboundary_mean = gray_val/pix_count;